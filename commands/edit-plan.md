编辑计划文件，支持多种模式。

## 参数说明

格式: `/edit-plan [计划ID] [内容...]`

- 第一个参数: 计划ID (如 `P001`，可选)
- 第二个参数起: 修改内容描述

**示例:**
- `/edit-plan` - 进入最新计划的编辑上下文
- `/edit-plan P001` - 进入 P001 计划的编辑上下文
- `/edit-plan P001 添加错误处理` - 直接修改 P001 计划
- `/edit-plan 添加错误处理` - 直接修改最新计划

## Instructions

1. **解析参数**:
   - 检查第一个词是否匹配 `P\d+` 格式（计划ID）
   - 如果匹配，第一个词为计划ID，剩余为内容
   - 如果不匹配，整体为内容描述，使用最新计划

2. **确定操作模式**:
   - 有计划ID + 有内容 → 启动 plan-editor agent 直接修改指定计划
   - 有计划ID + 无内容 → 进入指定计划编辑上下文，等待用户指示
   - 无计划ID + 有内容 → 启动 plan-editor agent 直接修改最新计划
   - 无计划ID + 无内容 → 进入最新计划编辑上下文，等待用户指示

3. **使用 plan-editor agent** (有内容时):

启动 `plan-editor` 子 agent 进行计划编辑：

```
Task:
  subagent_type: plan-editor
  description: 编辑计划
  prompt: |
    计划ID: [计划ID 或 最新计划]
    修改内容: [用户描述的修改内容]
    
    请找到计划文件并进行修改。
```

4. **进入编辑上下文** (无内容时):
   - 查找 `.factory/docs/plans/<ID>-*.md` 或最新计划
   - 阅读计划内容
   - 输出: "已打开计划 `<ID>: <标题>`，请告诉我需要修改的内容"
   - **等待用户后续指示**

现在处理: $ARGUMENTS
