系统地执行当前计划，启动编码代理完成实现。

## 参数说明

格式: `/work [forceTest]`
- `true`: 强制运行单元测试，失败则修复重试(最多3次)
- `false` 或 省略: 视情况运行测试 (检测到测试框架时运行)

## 说明

使用中文输出结果。

## Instructions

### Step 1: 读取计划
1. 在 `.factory/docs/plans/` 目录找到最新的 pending 计划
2. 读取计划文件，更新状态为 `in_progress`

### Step 2: 启动编码代理

启动 `code-writer` 子 agent 执行编码：

```
Task:
  subagent_type: code-writer
  description: 执行计划编码
  prompt: |
    计划内容: [计划全文]
    forceTest: [true/false]
    
    请按计划实现功能，完成后返回变更报告：
    - 文件路径、变更范围、内容、作用
    - 新旧代码对比
```

### Step 3: 接收变更报告

编码代理返回后，获取变更报告：
- 修改的文件列表
- 每个文件的变更范围
- 变更内容和作用
- 新旧代码对比

### Step 4: 单元测试 (可选)

| 参数 | 行为 |
|------|------|
| `true` | 强制执行，失败则修复重试，最多3次 |
| `false` 或 省略 | 检测到测试框架时运行 |

### Step 5: 更新计划状态
- 更新计划状态为 `completed`

### Step 6: 输出总结

将编码代理返回的变更报告输出给用户：

```markdown
## 执行完成

### 变更文件
| 文件 | 范围 | 作用 |
|------|------|------|

### 详细变更
[每个文件的新旧对比]

### 测试结果
[如运行了测试]
```

现在执行计划: $ARGUMENTS
