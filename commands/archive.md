将已完成的功能模块归档为文档。

## 参数说明

格式: `/archive <模块名> [计划ID]`
- `模块名`: 必填，模块的名称（将作为文件夹名）
- `计划ID`: 可选，如 `P001`。省略则使用最近完成的计划。

## 说明

使用中文输出结果，但内部思考和执行逻辑使用英文。

## Instructions

1. **确定计划文件**:
   - 如果提供了计划ID，查找 `.factory/docs/plans/<ID>-*.md`
   - 如果未提供，找到 `.factory/docs/plans/` 中最新的 `completed` 状态计划

2. **收集模块信息**:
   - 读取计划文件，提取功能概述、技术方案、验收标准
   - 如果在 git 仓库中，运行 `git log --oneline -20` 获取最近提交记录
   - 扫描相关代码文件，提取关键 API 和函数说明

3. **创建文档目录结构**:
   ```
   docs/module-instruction/<模块名>/
   ├── README.md          # 模块概述和快速开始
   ├── usage.md           # 使用说明和示例
   └── changelog.md       # 变更记录
   ```

4. **生成文档内容**:

   **README.md 模板**:
   ```markdown
   # <模块名>

   ## 概述
   [从计划文件提取的功能描述]

   ## 快速开始
   [基本使用方法]

   ## 目录结构
   [相关文件列表]
   ```

   **usage.md 模板**:
   ```markdown
   # 使用说明

   ## 基本用法
   [使用示例和代码片段]

   ## 配置选项
   [可配置项说明]

   ## 常见问题
   [FAQ]
   ```

   **changelog.md 模板**:
   ```markdown
   # 变更记录

   ## [版本号] - [日期]
   ### 新增
   - [从 git log 提取的变更]

   ### 修改
   - [修改内容]

   ### 修复
   - [修复内容]
   ```

5. **完成归档**:
   - 创建所有文档文件
   - 输出归档完成的摘要信息
   - 提示用户可以使用 `/edit-plan` 或直接编辑文档进行补充

现在归档模块: $ARGUMENTS
