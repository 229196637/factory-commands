# Bug分析检查清单

## 问题收集阶段

### 错误信息
- [ ] 获取完整错误日志
- [ ] 获取堆栈跟踪信息
- [ ] 记录错误发生时间和频率
- [ ] 确认错误是否可复现

### 上下文信息
- [ ] 触发条件是什么
- [ ] 复现步骤是什么
- [ ] 预期行为是什么
- [ ] 实际行为是什么

---

## 深度分析阶段

### 代码定位
- [ ] 找到错误发生的文件和行号
- [ ] 找到相关的函数和类
- [ ] 确认代码版本/分支

### 调用链分析
- [ ] 追溯完整调用链
- [ ] 识别数据流向
- [ ] 找到问题根源点

### 逻辑分析
- [ ] 理解代码原始意图
- [ ] 识别逻辑缺陷类型
- [ ] 评估影响范围

---

## 常见Bug类型检查

### 空值问题
- [ ] 变量是否可能为nil/null
- [ ] 是否有适当的空值检查
- [ ] 空值检查是否会影响后续逻辑

### 时序问题
- [ ] 异步回调时机是否正确
- [ ] 依赖的变量是否已初始化
- [ ] 缓存命中时是否有同步回调问题

### 边界问题
- [ ] 数组索引是否可能越界
- [ ] 循环条件是否正确
- [ ] 数值范围是否合理

### 状态问题
- [ ] 状态转换是否正确
- [ ] 是否有遗漏的状态
- [ ] 状态是否被正确重置

### 资源问题
- [ ] 资源是否正确释放
- [ ] 是否有内存泄漏
- [ ] 缓存是否正确管理

---

## 方案设计阶段

### 方案准备
- [ ] 准备至少2-3个修复方案
- [ ] 列出每个方案的优缺点
- [ ] 评估每个方案的影响范围
- [ ] 确定推荐方案

### 用户确认
- [ ] 向用户展示所有方案
- [ ] 等待用户选择
- [ ] 确认用户理解影响

---

## 修复实施阶段

### 代码修改
- [ ] 按选定方案修改代码
- [ ] 保持代码风格一致
- [ ] 添加必要注释

### 验证测试
- [ ] 验证原问题已解决
- [ ] 检查是否引入新问题
- [ ] 运行相关测试用例

---

## 特殊情况处理

### 缺失方法
- [ ] 搜索原项目查找实现
- [ ] 分析方法用途
- [ ] 决定实现或移除

### 对比原项目
- [ ] 找到原项目对应代码
- [ ] 对比实现差异
- [ ] 理解设计意图
